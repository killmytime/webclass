<style lang="less">
  /* head */
  .page-head {
    background-color: #fff;
    border-top: 1px solid #e7e7e7;
    border-bottom: 1px solid #e7e7e7;
    height: 80 rpx;
    width: 100%;
    font-size: 28 rpx;
  }

  .head-form {
    display: block;
    padding-top: 12 rpx;
    text-align: center;
    line-height: 56 rpx;
  }

  .head-form .head-input {
    display: inline-block;
    border: 1px solid #ccc;
    background-color: #fff;
    border-radius: 8 rpx;
    text-align: left;
    padding: 0 10 rpx;
  }

  .head-form .head-button {
    display: inline-block;
    background-color: #fff;
    border-radius: 4 rpx;
    width: 100 rpx;
    line-height: 56 rpx;
    height: 56 rpx;
    padding: 0;
    margin-left: 14 rpx;
    font-size: 28 rpx;
  }
</style>
<template>
  <view class="page__hd">
    <form class="head-form" bindsubmit="formSubmit">
      <input placeholder="输入课程名称" class='head-input' name="searchKey"/>
      <button formType="submit" class='head-button'>搜索</button>
    </form>
  </view>
  <view class="page__bd">
    <view class="weui-panel weui-panel_access">
      <view class="weui-panel__hd">所有课程</view>
      <view class="weui-panel__bd">
        <repeat for="{{list}}" key="courseId">
          <view class="weui-media-box weui-media-box_appmsg" hover-class="weui-cell_active"
                @tap="navigatorClick({{item}})">
            <view class="weui-media-box__hd weui-media-box__hd_in-appmsg">
              <image class="weui-media-box__thumb" src="../images/course/{{item.courseId}}.png"></image>
            </view>
            <view class="weui-media-box__bd weui-media-box__bd_in-appmsg">
              <view class="weui-media-box__title">{{item.teacher}}</view>
              <view class="weui-media-box__desc">{{item.courseName}}</view>
            </view>
          </view>
        </repeat>
      </view>
      <view class="weui-panel__ft">
        <view class="weui-cell weui-cell_access weui-cell_link">
          <view class="weui-cell__bd">查看更多</view>
          <view class="weui-cell__ft weui-cell__ft_in-access"></view>
        </view>
      </view>
    </view>
  </view>
</template>

<script>
  import wepy from 'wepy'

  export default class Index extends wepy.page {
    config = {
      navigationBarTitleText: '天天课堂'
    }

    data = {
      list: [
        {
          courseId: '1',
          teacher: 'Tom',
          courseName: 'PE'
        },
        {
          courseId: '2',
          teacher: 'Summer',
          courseName: 'English'
        },
        {
          courseId: '3',
          teacher: 'Ben',
          courseName: 'Computer'
        },
        {
          courseId: '4',
          teacher: 'Lei',
          courseName: 'Chinese Culture'
        },
        {
          courseId: '5',
          teacher: 'Zoe',
          courseName: 'JavaScript'
        }
      ]
    }
    methods = {
      navigatorClick(courseItem) {
        console.log(courseItem)
        this.$parent.globalData.currentCourse.teacher = courseItem.teacher
        this.$parent.globalData.currentCourse.courseName = courseItem.courseName
        this.$parent.globalData.currentCourse.courseId = courseItem.courseId
        wepy.navigateTo({
          url: 'details'
        })
      }
    }


    onLoad() {
      console.log('onLoad')
    }

    // onLaunch() {
    //   console.log(123)
    //
  }
</script>

<style >
  /* head */
  .page-head{
    background-color: #fff;
    border-top: 1px solid #e7e7e7;
    border-bottom: 1px solid #e7e7e7;
    height: 80rpx;
    width: 100%;
    font-size: 28rpx;
  }
  .head-form{
    display:block;
    padding-top: 12rpx;
    text-align: center;
    line-height: 56rpx;
  }
  .head-form .head-input{
    display: inline-block;
    border: 1px solid #ccc;
    background-color: #fff;
    border-radius: 8rpx;
    text-align:left;
    padding: 0 10rpx;
  }
  .head-form .head-button{
    display: inline-block;
    background-color: #fff;
    border-radius: 4rpx;
    width: 100rpx;
    line-height: 56rpx;
    height: 56rpx;
    padding: 0;
    margin-left: 14rpx;
    font-size: 28rpx;
  }
</style>

